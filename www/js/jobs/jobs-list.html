<ion-view title="Job Lists">

  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>

  <ion-content class="has-header bg-gray">

  <div class="list">

    <div class="card job-list-item" collection-repeat="job in jobs" collection-item-width="'100%'" collection-item-height="194" ng-click="showJobPage(job)">
      
      <div class="item item-divider item-icon-right list-item-title">
        {{job.title}}
        <i class="icon ion-ios7-arrow-right"></i>
      </div>

      <div class="item list-item-content item-thumbnail-left">

        <!-- company logo -->
        <img ng-show="job.startup.thumb_url" class="startup-list-logo" ng-src="{{job.startup.thumb_url}}" />

        <!-- Startup Name -->
        <div ng-show="job.startup.name">
          <strong>Company: </strong> 
          <span class="info-tag">
            <a href="#/app/startup/{{job.startup.id}}">{{job.startup.name}}</a>
          </span>
        </div>

        <div class="row" ng-show="job.job_locations.length || job.job_roles.length">
          <!-- Location -->
          <div class="col" ng-show="job.job_locations.length">
            <i class="icon ion-location"></i> 
            <span ng-repeat="location in job.job_locations" class="info-tag">
              <a href="#/app/jobs/tag/{{location.id}}">{{location.display_name}}</a>
            </span>
          </div>
          <!-- Job Role -->
          <div class="col" ng-show="job.job_roles.length">
            <i class="icon ion-person"></i> 
            <span ng-repeat="role in job.job_roles">
              {{role.display_name}}
            </span>
          </div>
        </div>

        <!-- Salary and equity -->
        <div ng-show="(job.salary_min || job.salary_max) || (job.equity_min || job.equity_min)">
          <span ng-show="job.salary_min || job.salary_max">
            {{job.currency_code}} {{job.salary_min}} - {{job.salary_max}}<span ng-show="job.equity_min || job.equity_max">, </span>
          </span>
          <span ng-show="job.equity_min || job.equity_max">
            {{job.equity_min}}% - {{job.equity_max}}%
          </span>
        </div> 

        <p ng-show="job.updated_at" class="list-item-small italic pull-right">
          <i>{{job.updated_at | date: 'mediumDate'}}</i>
        </p> 

      </div>

    </div><!-- /item -->

  </div><!-- /list -->

  <ion-infinite-scroll ng-if="!meta.page || meta.page < meta.last_page" icon="" on-infinite="loadJobs()" distance="1%">
  </ion-infinite-scroll>

  </ion-content>

</ion-view>
